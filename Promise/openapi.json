{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"ping","summary":"Ping / Pong","parameters":[],"responses":{"200":{"description":"ping","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntryResponse"}}}}},"tags":["App"]}},"/auth/login":{"post":{"operationId":"login","summary":"회원가입 / 로그인","parameters":[],"requestBody":{"required":true,"description":"로그인 정보","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InputCreateUser"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthToken"}}}},"400":{"description":"로그인 실패"}},"tags":["Auth"],"security":[{"bearer":[]}]}},"/auth/refresh":{"post":{"operationId":"refreshTokens","summary":"Access Token / Refresh Token 갱신","parameters":[],"requestBody":{"required":true,"description":"로그인 정보","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InputRefreshToken"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthToken"}}}},"400":{"description":"로그인 실패"}},"tags":["Auth"],"security":[{"bearer":[]}]}},"/user/profile":{"get":{"operationId":"profile","summary":"인증 사용자 정보 조회","parameters":[],"responses":{"200":{"description":"인증 사용자 정보","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserEntity"}}}},"401":{"description":"로그인 필요"}},"tags":["User"],"security":[{"bearer":[]}]}},"/promise/list":{"get":{"operationId":"getPromiseList","summary":"약속 목록","parameters":[],"responses":{"200":{"description":"약속 목록","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OutputPromiseListItem"}}}}},"401":{"description":"로그인 필요"}},"tags":["Promise"],"security":[{"bearer":[]}]}},"/promise":{"post":{"operationId":"createNewPromise","summary":"새로운 약속 추가","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InputCreatePromise"}}}},"responses":{"200":{"description":"약속 추가 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputCreatePromise"}}}},"400":{"description":"약속 추가 실패"},"401":{"description":"로그인 필요"}},"tags":["Promise"],"security":[{"bearer":[]}]}},"/promise/start-location":{"patch":{"operationId":"updateStartLocation","summary":"출발지 설정","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InputUpdateUserStartLocation"}}}},"responses":{"200":{"description":"출발지 설정 성공"},"400":{"description":"출발지 설정 실패"},"401":{"description":"로그인 필요"}},"tags":["Promise"],"security":[{"bearer":[]}]}},"/promise/{id}":{"patch":{"operationId":"updatePromise","summary":"약속 수정","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InputUpdatePromise"}}}},"responses":{"200":{"description":"약속 수정 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputCreatePromise"}}}},"400":{"description":"약속 수정 실패"},"401":{"description":"로그인 필요"}},"tags":["Promise"],"security":[{"bearer":[]}]}},"/promise/themes":{"get":{"operationId":"themes","summary":"약속 테마 목록","parameters":[],"responses":{"200":{"description":"약속 테마 목록","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ThemeEntity"}}}}}},"tags":["Promise"],"security":[{"bearer":[]}]}}},"info":{"title":"Promise API","description":"","version":"0.0.0","contact":{}},"tags":[{"name":"App","description":"Entry point of API"}],"servers":[],"components":{"securitySchemes":{"bearer":{"type":"http","scheme":"bearer"}},"schemas":{"EntryResponse":{"type":"object","properties":{"message":{"type":"string","example":"pong"},"version":{"type":"string","description":"x: major version  \\\ny: minor version  \\\nz: patch version","example":"x.y.z"},"build":{"type":"string","example":"yyyy-MM-dd HH:mm:ss"},"env":{"type":"string","example":"production"},"tz":{"type":"string","example":"Asia/Seoul"}},"required":["message","version","build","env","tz"]},"InputCreateUser":{"type":"object","properties":{"username":{"type":"string","nullable":true},"profileUrl":{"type":"string","nullable":true},"provider":{"type":"string","nullable":true,"enum":["KAKAO","GOOGLE","APPLE"]},"providerId":{"type":"string","nullable":true}},"required":["username","profileUrl","provider","providerId"]},"AuthToken":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"}},"required":["accessToken","refreshToken"]},"InputRefreshToken":{"type":"object","properties":{"refreshToken":{"type":"string"}},"required":["refreshToken"]},"UserEntity":{"type":"object","properties":{"id":{"type":"number"},"username":{"type":"string","nullable":true},"profileUrl":{"type":"string","nullable":true},"provider":{"nullable":true,"enum":["KAKAO","GOOGLE","APPLE"],"type":"string"},"createdAt":{"type":"number"},"updatedAt":{"type":"number"}},"required":["id","username","profileUrl","provider","createdAt","updatedAt"]},"LocationEntity":{"type":"object","properties":{"id":{"type":"number"},"city":{"type":"string"},"district":{"type":"string"},"address":{"type":"string"},"latitude":{"type":"number"},"longitude":{"type":"number"},"createdAt":{"type":"number"},"updatedAt":{"type":"number"}},"required":["id","city","district","address","latitude","longitude","createdAt","updatedAt"]},"OutputPromiseListItem":{"type":"object","properties":{"host":{"type":"object"},"destination":{"nullable":true,"allOf":[{"$ref":"#/components/schemas/LocationEntity"}]},"attendees":{"default":[],"type":"array","items":{"type":"object"}},"id":{"type":"number"},"title":{"type":"string"},"inviteLink":{"type":"string"},"destinationType":{"type":"string","enum":["STATIC","DYNAMIC"]},"locationShareStartType":{"type":"string","enum":["DISTANCE","TIME"]},"locationShareStartValue":{"type":"number"},"locationShareEndType":{"type":"string","enum":["DISTANCE","TIME"]},"locationShareEndValue":{"type":"number"},"promisedAt":{"type":"number"},"completedAt":{"type":"number","nullable":true},"createdAt":{"type":"number"},"updatedAt":{"type":"number"}},"required":["host","destination","attendees","id","title","inviteLink","destinationType","locationShareStartType","locationShareStartValue","locationShareEndType","locationShareEndValue","promisedAt","completedAt","createdAt","updatedAt"]},"InputCreatePromise":{"type":"object","properties":{"title":{"type":"string"},"themeIds":{"type":"array","items":{"type":"number"}},"promisedAt":{"type":"number"},"destinationType":{"type":"string","enum":["STATIC","DYNAMIC"]},"destination":{"type":"object","properties":{"city":{"required":true,"type":"string"},"district":{"required":true,"type":"string"},"address":{"required":true,"type":"string"},"latitude":{"required":true,"type":"number"},"longitude":{"required":true,"type":"number"}}},"locationShareStartType":{"type":"string","enum":["DISTANCE","TIME"]},"locationShareStartValue":{"type":"number"},"locationShareEndType":{"type":"string","enum":["DISTANCE","TIME"]},"locationShareEndValue":{"type":"number"}},"required":["title","themeIds","promisedAt","destinationType","destination","locationShareStartType","locationShareStartValue","locationShareEndType","locationShareEndValue"]},"OutputCreatePromise":{"type":"object","properties":{"id":{"type":"number"},"inviteLink":{"type":"string"}},"required":["id","inviteLink"]},"InputUpdateUserStartLocation":{"type":"object","properties":{"promiseId":{"type":"number"},"location":{"type":"object","properties":{"city":{"required":true,"type":"string"},"district":{"required":true,"type":"string"},"address":{"required":true,"type":"string"},"latitude":{"required":true,"type":"number"},"longitude":{"required":true,"type":"number"}}}},"required":["promiseId","location"]},"InputUpdatePromise":{"type":"object","properties":{"id":{"type":"number"},"title":{"type":"string"},"themeIds":{"type":"array","items":{"type":"number"}},"promisedAt":{"type":"number"},"destinationType":{"type":"string","enum":["STATIC","DYNAMIC"]},"destination":{"type":"object","properties":{"city":{"required":true,"type":"string"},"district":{"required":true,"type":"string"},"address":{"required":true,"type":"string"},"latitude":{"required":true,"type":"number"},"longitude":{"required":true,"type":"number"}}},"locationShareStartType":{"type":"string","enum":["DISTANCE","TIME"]},"locationShareStartValue":{"type":"number"},"locationShareEndType":{"type":"string","enum":["DISTANCE","TIME"]},"locationShareEndValue":{"type":"number"}},"required":["id","destination"]},"ThemeEntity":{"type":"object","properties":{"id":{"type":"number"},"theme":{"type":"string"}},"required":["id","theme"]}}},"externalDocs":{"description":"OpenAPI Specification (JSON)","url":"/api-json"}}