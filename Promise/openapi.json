{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"ping","summary":"Ping / Pong","parameters":[],"responses":{"200":{"description":"ping","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntryResponse"}}}}},"tags":["App"]}},"/auth/login":{"post":{"operationId":"login","summary":"회원가입 / 로그인","parameters":[],"requestBody":{"required":true,"description":"로그인 정보","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InputCreateUser"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthToken"}}}},"400":{"description":"로그인 실패","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["Auth"],"security":[{"bearer":[]}]}},"/auth/refresh":{"post":{"operationId":"refreshTokens","summary":"Access Token / Refresh Token 갱신","parameters":[],"requestBody":{"required":true,"description":"로그인 정보","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InputRefreshToken"}}}},"responses":{"201":{"description":"토큰 갱신 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthToken"}}}},"400":{"description":"로그인 실패/토큰 만료","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["Auth"],"security":[{"bearer":[]}]}},"/user/profile":{"get":{"operationId":"getMyProfile","summary":"인증 사용자 정보 조회","parameters":[],"responses":{"200":{"description":"인증 사용자 정보","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserEntity"}}}},"401":{"description":"로그인 필요","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["User"],"security":[{"bearer":[]}]},"patch":{"operationId":"updateMyProfile","summary":"인증 사용자 정보 수정","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InputUpdateUser"}}}},"responses":{"200":{"description":"수정된 인증 사용자 정보","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserEntity"}}}},"401":{"description":"로그인 필요","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["User"],"security":[{"bearer":[]}]},"delete":{"operationId":"deleteMyProfile","summary":"인증 사용자 정보 삭제","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InputDeleteUser"}}}},"responses":{"200":{"description":"인증 사용자 정보 삭제 성공"},"401":{"description":"로그인 필요","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["User"],"security":[{"bearer":[]}]}},"/promises":{"get":{"operationId":"getPromiseList","summary":"약속 목록","parameters":[],"responses":{"200":{"description":"약속 목록","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OutputPromiseListItem"}}}}},"401":{"description":"로그인 필요","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["Promise"],"security":[{"bearer":[]}]},"post":{"operationId":"createNewPromise","summary":"새로운 약속 추가","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InputCreatePromise"}}}},"responses":{"200":{"description":"약속 추가 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputCreatePromise"}}}},"400":{"description":"약속 추가 실패","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}},"401":{"description":"로그인 필요","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["Promise"],"security":[{"bearer":[]}]}},"/promises/themes":{"get":{"operationId":"themes","summary":"약속 테마 목록","parameters":[],"responses":{"200":{"description":"약속 테마 목록","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ThemeEntity"}}}}}},"tags":["Promise"],"security":[{"bearer":[]}]}},"/promises/queue":{"get":{"operationId":"checkPromiseQueue","summary":"약속 대기열을 확인","parameters":[{"name":"deviceId","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"약속 대기열 확인 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputCheckPromiseQueue"}}}},"404":{"description":"약속 대기열 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["Promise"],"security":[{"bearer":[]}]},"post":{"operationId":"enqueuePromise","summary":"약속 대기열에 추가","parameters":[{"name":"pid","required":true,"in":"query","schema":{"type":"string"}},{"name":"deviceId","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"201":{"description":"약속 대기열에 추가 성공"},"400":{"description":"약속 대기열 추가 실패","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}},"404":{"description":"약속 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["Promise"],"security":[{"bearer":[]}]}},"/promises/{pid}":{"get":{"operationId":"getPromise","summary":"약속 상세 정보","parameters":[{"name":"pid","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"약속 상세 정보","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputPromiseListItem"}}}},"401":{"description":"로그인 필요","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}},"404":{"description":"약속 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["Promise"],"security":[{"bearer":[]}]},"put":{"operationId":"updatePromise","summary":"약속 수정","parameters":[{"name":"pid","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InputUpdatePromise"}}}},"responses":{"200":{"description":"약속 수정 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputCreatePromise"}}}},"400":{"description":"약속 수정 실패","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}},"401":{"description":"로그인 필요","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}},"404":{"description":"약속 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["Promise"],"security":[{"bearer":[]}]}},"/promises/{pid}/start-location":{"post":{"operationId":"setStartLocation","summary":"출발지 설정","parameters":[{"name":"pid","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InputUpdateUserStartLocation"}}}},"responses":{"200":{"description":"출발지 설정 성공"},"201":{"description":""},"400":{"description":"출발지 설정 실패","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}},"401":{"description":"로그인 필요","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}},"404":{"description":"약속 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["Promise"],"security":[{"bearer":[]}]}},"/promises/{pid}/attend":{"post":{"operationId":"attendPromise","summary":"약속 참여","parameters":[{"name":"pid","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"약속 참여 성공"},"201":{"description":""},"400":{"description":"약속 참여 실패","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}},"401":{"description":"로그인 필요","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}},"404":{"description":"약속 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["Promise"],"security":[{"bearer":[]}]},"delete":{"operationId":"cancelPromise","summary":"약속 취소","parameters":[{"name":"pid","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"약속 취소 성공"},"400":{"description":"약속 취소 실패","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}},"401":{"description":"로그인 필요","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}},"404":{"description":"약속 없음","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["Promise"],"security":[{"bearer":[]}]}},"/upload/image":{"post":{"operationId":"uploadImageFile","summary":"이미지 파일 업로드","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"201":{"description":"이미지 파일 업로드 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileUploadOutput"}}}},"401":{"description":"로그인 필요","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["File Upload"],"security":[{"bearer":[]}]}}},"info":{"title":"Promise API","description":"","version":"0.0.0","contact":{}},"tags":[{"name":"App","description":"Entry point of API"}],"servers":[],"components":{"securitySchemes":{"bearer":{"type":"http","scheme":"bearer"}},"schemas":{"EntryResponse":{"type":"object","properties":{"message":{"type":"string","example":"pong"},"version":{"type":"string","description":"x: major version  \\\ny: minor version  \\\nz: patch version","example":"x.y.z"},"build":{"type":"string","example":"yyyy-MM-ddTHH:mm:ssZ"},"env":{"type":"string","example":"production"},"tz":{"type":"string","example":"UTC"}},"required":["message","version","build","env","tz"]},"InputCreateUser":{"type":"object","properties":{"username":{"type":"string","nullable":true,"minLength":1,"maxLength":80},"profileUrl":{"type":"string","nullable":true},"provider":{"type":"string","enum":["KAKAO","GOOGLE","APPLE"]},"providerId":{"type":"string","minLength":1,"maxLength":100}},"required":["provider","providerId"]},"AuthToken":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"}},"required":["accessToken","refreshToken"]},"HttpException":{"type":"object","properties":{"message":{"type":"string"},"error":{"type":"string"},"statusCode":{"type":"number"}},"required":["message","error","statusCode"]},"InputRefreshToken":{"type":"object","properties":{"refreshToken":{"type":"string"}},"required":["refreshToken"]},"UserEntity":{"type":"object","properties":{"id":{"type":"number"},"username":{"type":"string","nullable":true},"profileUrl":{"type":"string","nullable":true},"provider":{"nullable":true,"enum":["KAKAO","GOOGLE","APPLE"],"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","username","profileUrl","provider","createdAt","updatedAt"]},"InputUpdateUser":{"type":"object","properties":{"username":{"type":"string","nullable":true,"minLength":1,"maxLength":80},"profileUrl":{"type":"string","nullable":true}}},"InputDeleteUser":{"type":"object","properties":{"reason":{"type":"string","minLength":10,"maxLength":200}},"required":["reason"]},"Host":{"type":"object","properties":{"id":{"type":"number"},"username":{"type":"string","nullable":true},"profileUrl":{"type":"string","nullable":true}},"required":["id","username","profileUrl"]},"OutputDestination":{"type":"object","properties":{"id":{"type":"number"},"city":{"type":"string"},"district":{"type":"string"},"address":{"type":"string"},"latitude":{"type":"number"},"longitude":{"type":"number"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","city","district","address","latitude","longitude","createdAt","updatedAt"]},"Attendee":{"type":"object","properties":{"id":{"type":"number"},"username":{"type":"string","nullable":true},"profileUrl":{"type":"string","nullable":true}},"required":["id","username","profileUrl"]},"OutputPromiseListItem":{"type":"object","properties":{"pid":{"type":"string"},"themes":{"type":"array","items":{"type":"string"}},"host":{"$ref":"#/components/schemas/Host"},"destination":{"nullable":true,"allOf":[{"$ref":"#/components/schemas/OutputDestination"}]},"attendees":{"type":"array","items":{"$ref":"#/components/schemas/Attendee"}},"title":{"type":"string"},"destinationType":{"enum":["STATIC","DYNAMIC"],"type":"string"},"locationShareStartType":{"enum":["DISTANCE","TIME"],"type":"string"},"locationShareStartValue":{"type":"number"},"locationShareEndType":{"enum":["DISTANCE","TIME"],"type":"string"},"locationShareEndValue":{"type":"number"},"promisedAt":{"format":"date-time","type":"string"},"completedAt":{"format":"date-time","type":"string","nullable":true},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["pid","themes","host","destination","attendees","title","destinationType","locationShareStartType","locationShareStartValue","locationShareEndType","locationShareEndValue","promisedAt","completedAt","createdAt","updatedAt"]},"ThemeEntity":{"type":"object","properties":{"id":{"type":"number"},"theme":{"type":"string"}},"required":["id","theme"]},"OutputCheckPromiseQueue":{"type":"object","properties":{"pid":{"type":"string"}},"required":["pid"]},"InputDestination":{"type":"object","properties":{"city":{"type":"string"},"district":{"type":"string"},"address":{"type":"string"},"latitude":{"type":"number"},"longitude":{"type":"number"}},"required":["city","district","latitude","longitude"]},"InputCreatePromise":{"type":"object","properties":{"title":{"type":"string"},"themeIds":{"type":"array","items":{"type":"number","minimum":1}},"promisedAt":{"type":"string"},"destinationType":{"type":"string","enum":["STATIC","DYNAMIC"]},"destination":{"nullable":true,"allOf":[{"$ref":"#/components/schemas/InputDestination"}]},"locationShareStartType":{"type":"string","enum":["DISTANCE","TIME"]},"locationShareStartValue":{"type":"number","minimum":0},"locationShareEndType":{"type":"string","enum":["DISTANCE","TIME"]},"locationShareEndValue":{"type":"number","minimum":0}},"required":["title","themeIds","promisedAt","destinationType","destination","locationShareStartType","locationShareStartValue","locationShareEndType","locationShareEndValue"]},"OutputCreatePromise":{"type":"object","properties":{"pid":{"type":"string"}},"required":["pid"]},"InputUpdatePromise":{"type":"object","properties":{"title":{"type":"string"},"themeIds":{"type":"array","items":{"type":"number","minimum":1}},"promisedAt":{"type":"string"},"destinationType":{"type":"string","enum":["STATIC","DYNAMIC"]},"destination":{"nullable":true,"allOf":[{"$ref":"#/components/schemas/InputDestination"}]},"locationShareStartType":{"type":"string","enum":["DISTANCE","TIME"]},"locationShareStartValue":{"type":"number","minimum":0},"locationShareEndType":{"type":"string","enum":["DISTANCE","TIME"]},"locationShareEndValue":{"type":"number","minimum":0}}},"InputUpdateUserStartLocation":{"type":"object","properties":{"city":{"type":"string"},"district":{"type":"string"},"address":{"type":"string"},"latitude":{"type":"number"},"longitude":{"type":"number"}},"required":["city","district","latitude","longitude"]},"FileUploadOutput":{"type":"object","properties":{"url":{"type":"string"}},"required":["url"]}}},"externalDocs":{"description":"OpenAPI Specification (JSON)","url":"/api-json"}}