{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"ping","summary":"Ping / Pong","parameters":[],"responses":{"200":{"description":"ping","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntryResponse"}}}}},"tags":["App"]}},"/auth/login":{"post":{"operationId":"login","summary":"회원가입 / 로그인","parameters":[],"requestBody":{"required":true,"description":"로그인 정보","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InputCreateUser"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthToken"}}}},"400":{"description":"로그인 실패","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["Auth"],"security":[{"bearer":[]}]}},"/auth/refresh":{"post":{"operationId":"refreshTokens","summary":"Access Token / Refresh Token 갱신","parameters":[],"requestBody":{"required":true,"description":"로그인 정보","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InputRefreshToken"}}}},"responses":{"201":{"description":"토큰 갱신 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthToken"}}}},"400":{"description":"로그인 실패/토큰 만료","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["Auth"],"security":[{"bearer":[]}]}},"/user/profile":{"get":{"operationId":"getMyProfile","summary":"인증 사용자 정보 조회","parameters":[],"responses":{"200":{"description":"인증 사용자 정보","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserEntity"}}}},"401":{"description":"로그인 필요","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["User"],"security":[{"bearer":[]}]},"patch":{"operationId":"updateMyProfile","summary":"인증 사용자 정보 수정","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InputUpdateUser"}}}},"responses":{"200":{"description":"수정된 인증 사용자 정보","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserEntity"}}}},"401":{"description":"로그인 필요","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["User"],"security":[{"bearer":[]}]},"delete":{"operationId":"deleteMyProfile","summary":"인증 사용자 정보 삭제","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InputDeleteUser"}}}},"responses":{"200":{"description":"인증 사용자 정보 삭제 성공"},"401":{"description":"로그인 필요","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["User"],"security":[{"bearer":[]}]}},"/promise/list":{"get":{"operationId":"getPromiseList","summary":"약속 목록","parameters":[],"responses":{"200":{"description":"약속 목록","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OutputPromiseListItem"}}}}},"401":{"description":"로그인 필요","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["Promise"],"security":[{"bearer":[]}]}},"/promise":{"post":{"operationId":"createNewPromise","summary":"새로운 약속 추가","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InputCreatePromise"}}}},"responses":{"200":{"description":"약속 추가 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputCreatePromise"}}}},"400":{"description":"약속 추가 실패","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}},"401":{"description":"로그인 필요","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["Promise"],"security":[{"bearer":[]}]}},"/promise/start-location":{"patch":{"operationId":"updateStartLocation","summary":"출발지 설정","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InputUpdateUserStartLocation"}}}},"responses":{"200":{"description":"출발지 설정 성공"},"400":{"description":"출발지 설정 실패","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}},"401":{"description":"로그인 필요","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["Promise"],"security":[{"bearer":[]}]}},"/promise/{id}":{"patch":{"operationId":"updatePromise","summary":"약속 수정","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InputUpdatePromise"}}}},"responses":{"200":{"description":"약속 수정 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputCreatePromise"}}}},"400":{"description":"약속 수정 실패","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}},"401":{"description":"로그인 필요","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["Promise"],"security":[{"bearer":[]}]}},"/promise/themes":{"get":{"operationId":"themes","summary":"약속 테마 목록","parameters":[],"responses":{"200":{"description":"약속 테마 목록","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ThemeEntity"}}}}}},"tags":["Promise"],"security":[{"bearer":[]}]}},"/upload/image":{"post":{"operationId":"uploadImageFile","summary":"이미지 파일 업로드","parameters":[],"responses":{"201":{"description":"이미지 파일 업로드 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileUploadOutput"}}}},"401":{"description":"로그인 필요","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HttpException"}}}}},"tags":["File Upload"],"security":[{"bearer":[]}]}}},"info":{"title":"Promise API","description":"","version":"0.0.0","contact":{}},"tags":[{"name":"App","description":"Entry point of API"}],"servers":[],"components":{"securitySchemes":{"bearer":{"type":"http","scheme":"bearer"}},"schemas":{"EntryResponse":{"type":"object","properties":{"message":{"type":"string","example":"pong"},"version":{"type":"string","description":"x: major version  \\\ny: minor version  \\\nz: patch version","example":"x.y.z"},"build":{"type":"string","example":"yyyy-MM-ddTHH:mm:ssZ"},"env":{"type":"string","example":"production"},"tz":{"type":"string","example":"UTC"}},"required":["message","version","build","env","tz"]},"InputCreateUser":{"type":"object","properties":{"username":{"type":"string","nullable":true},"profileUrl":{"type":"string","nullable":true},"provider":{"type":"string","nullable":true,"enum":["KAKAO","GOOGLE","APPLE"]},"providerId":{"type":"string","nullable":true}},"required":["username","profileUrl","provider","providerId"]},"AuthToken":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"}},"required":["accessToken","refreshToken"]},"HttpException":{"type":"object","properties":{"message":{"type":"string"},"error":{"type":"string"},"statusCode":{"type":"number"}},"required":["message","error","statusCode"]},"InputRefreshToken":{"type":"object","properties":{"refreshToken":{"type":"string"}},"required":["refreshToken"]},"UserEntity":{"type":"object","properties":{"id":{"type":"number"},"username":{"type":"string","nullable":true},"profileUrl":{"type":"string","nullable":true},"provider":{"nullable":true,"enum":["KAKAO","GOOGLE","APPLE"],"type":"string"},"createdAt":{"type":"number"},"updatedAt":{"type":"number"}},"required":["id","username","profileUrl","provider","createdAt","updatedAt"]},"InputUpdateUser":{"type":"object","properties":{"username":{"type":"string","nullable":true},"profileUrl":{"type":"string","nullable":true}}},"InputDeleteUser":{"type":"object","properties":{"reason":{"type":"string"}},"required":["reason"]},"Host":{"type":"object","properties":{"id":{"type":"number"},"username":{"type":"string","nullable":true}},"required":["id","username"]},"OutputDestination":{"type":"object","properties":{"id":{"type":"number"},"city":{"type":"string"},"district":{"type":"string"},"address":{"type":"string"},"latitude":{"type":"number"},"longitude":{"type":"number"},"createdAt":{"type":"number"},"updatedAt":{"type":"number"}},"required":["id","city","district","address","latitude","longitude","createdAt","updatedAt"]},"Attendee":{"type":"object","properties":{"id":{"type":"number"},"username":{"type":"string","nullable":true}},"required":["id","username"]},"OutputPromiseListItem":{"type":"object","properties":{"themes":{"type":"array","items":{"type":"string"}},"host":{"$ref":"#/components/schemas/Host"},"destination":{"nullable":true,"allOf":[{"$ref":"#/components/schemas/OutputDestination"}]},"attendees":{"type":"array","items":{"$ref":"#/components/schemas/Attendee"}},"id":{"type":"number"},"title":{"type":"string"},"inviteLink":{"type":"string"},"destinationType":{"type":"string","enum":["STATIC","DYNAMIC"]},"locationShareStartType":{"type":"string","enum":["DISTANCE","TIME"]},"locationShareStartValue":{"type":"number"},"locationShareEndType":{"type":"string","enum":["DISTANCE","TIME"]},"locationShareEndValue":{"type":"number"},"promisedAt":{"type":"number"},"completedAt":{"type":"number","nullable":true},"createdAt":{"type":"number"},"updatedAt":{"type":"number"}},"required":["themes","host","destination","attendees","id","title","inviteLink","destinationType","locationShareStartType","locationShareStartValue","locationShareEndType","locationShareEndValue","promisedAt","completedAt","createdAt","updatedAt"]},"InputDestination":{"type":"object","properties":{"city":{"type":"string"},"district":{"type":"string"},"address":{"type":"string"},"latitude":{"type":"number"},"longitude":{"type":"number"}},"required":["city","district","address","latitude","longitude"]},"InputCreatePromise":{"type":"object","properties":{"title":{"type":"string"},"themeIds":{"type":"array","items":{"type":"number"}},"promisedAt":{"type":"number"},"destinationType":{"type":"string","enum":["STATIC","DYNAMIC"]},"destination":{"nullable":true,"allOf":[{"$ref":"#/components/schemas/InputDestination"}]},"locationShareStartType":{"type":"string","enum":["DISTANCE","TIME"]},"locationShareStartValue":{"type":"number"},"locationShareEndType":{"type":"string","enum":["DISTANCE","TIME"]},"locationShareEndValue":{"type":"number"}},"required":["title","themeIds","promisedAt","destinationType","destination","locationShareStartType","locationShareStartValue","locationShareEndType","locationShareEndValue"]},"OutputCreatePromise":{"type":"object","properties":{"id":{"type":"number"},"inviteLink":{"type":"string"}},"required":["id","inviteLink"]},"InputUpdateUserStartLocation":{"type":"object","properties":{"promiseId":{"type":"number"},"location":{"type":"object","properties":{"city":{"required":true,"type":"string"},"district":{"required":true,"type":"string"},"address":{"required":true,"type":"string"},"latitude":{"required":true,"type":"number"},"longitude":{"required":true,"type":"number"}}}},"required":["promiseId","location"]},"InputUpdatePromise":{"type":"object","properties":{"id":{"type":"number"},"title":{"type":"string"},"themeIds":{"type":"array","items":{"type":"number"}},"promisedAt":{"type":"number"},"destinationType":{"type":"string","enum":["STATIC","DYNAMIC"]},"destination":{"nullable":true,"allOf":[{"$ref":"#/components/schemas/InputDestination"}]},"locationShareStartType":{"type":"string","enum":["DISTANCE","TIME"]},"locationShareStartValue":{"type":"number"},"locationShareEndType":{"type":"string","enum":["DISTANCE","TIME"]},"locationShareEndValue":{"type":"number"}},"required":["id"]},"ThemeEntity":{"type":"object","properties":{"id":{"type":"number"},"theme":{"type":"string"}},"required":["id","theme"]},"FileUploadOutput":{"type":"object","properties":{"url":{"type":"string"}},"required":["url"]}}},"externalDocs":{"description":"OpenAPI Specification (JSON)","url":"/api-json"}}